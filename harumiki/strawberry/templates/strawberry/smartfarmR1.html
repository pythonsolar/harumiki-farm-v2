<!-- strawberry/templates/strawberry/smartfarmR1.html -->
{% extends 'strawberry/base.html' %}
{% load static %}

{% block title %}Smart Farm R1 - Dashboard{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/smartfarm.css' %}">
<style>
    .farm1-background {
        background-image: url("{% static 'images/new harumiki-v02-farm1.png' %}");
        {% comment %} background-position: center calc(50% + 50px); /* ขยับลง 30px */ {% endcomment %}
    }
</style>
{% endblock %}

{% block content %}
<div class="smartfarm-container">
    <div class="navigation-controls">
        <a href="{% url 'farm-1' %}" class="btn btn-primary">
            <i class="bi bi-arrow-left"></i> Back to Farm 1
        </a>
        <a href="{% url 'smartfarm-2' %}" class="btn btn-outline-secondary">
            Switch to Farm 2 View
        </a>
    </div>

    <div class="background-image farm1 farm1-background">
        <!-- Last Update Time Display -->
        <div id="current-time" class="time-display">
            <div id="last-update-label">ข้อมูลล่าสุด</div>
            <div id="current-date"></div>
            <div id="current-clock"></div>
        </div>
        
        <!-- Sensor Values - Restructured like Farm 2 -->
        <div id="sensor-1" class="sensor-value" data-type="moisture">
            <h2>ความชื้น-R8</h2>
            <p><strong>หัว:</strong> <span class="value">{{ soil7|default:"0" }}</span>%</p>
            <p><strong>ท้าย:</strong> <span class="value">{{ soil8|default:"0" }}</span>%</p>
        </div>
        
        <div id="sensor-2" class="sensor-value">
            <h2>ค่า NPK-R8</h2>
            <div class="npk-values">
                <p><strong>N:</strong> <span class="value">{{ nitrogenR8_Q|default:"0" }}</span> mg/kg</p>
                <p><strong>P:</strong> <span class="value">{{ phosphorusR8_Q|default:"0" }}</span> mg/kg</p>
                <p><strong>K:</strong> <span class="value">{{ potassiumR8_Q|default:"0" }}</span> mg/kg</p>
            </div>
        </div>
        
        <div id="sensor-3" class="sensor-value">
            <h2>CO<sub>2</sub></h2>
            <p><span class="value">{{ CO2_R1|default:"0" }}</span> ppm</p>
        </div>
        
        <div id="sensor-4" class="sensor-value">
            <h2>PPFD-R8</h2>
            <p><span class="value">{{ ppfd3|default:"0" }}</span> µmol/m²</p>
        </div>
        
        <div id="sensor-5" class="sensor-value">
            <h2>PM2.5</h2>
            <p><span class="value">{{ pm_outside|default:"0" }}</span> µg/m³</p>
        </div>
        
        <div id="sensor-6" class="sensor-value" data-type="moisture">
            <h2>ความชื้น-R24</h2>
            <p><strong>หัว:</strong> <span class="value">{{ soil11|default:"0" }}</span>%</p>
            <p><strong>ท้าย:</strong> <span class="value">{{ soil12|default:"0" }}</span>%</p>
        </div>
        
        <div id="sensor-7" class="sensor-value">
            <h2>ค่า NPK-R24</h2>
            <div class="npk-values">
                <p><strong>N:</strong> <span class="value">{{ nitrogenR24_Q|default:"0" }}</span> mg/kg</p>
                <p><strong>P:</strong> <span class="value">{{ phosphorusR24_Q|default:"0" }}</span> mg/kg</p>
                <p><strong>K:</strong> <span class="value">{{ potassiumR24_Q|default:"0" }}</span> mg/kg</p>
            </div>
        </div>
        
        <div id="sensor-8" class="sensor-value">
            <h2>SHT-R24</h2>
            <p><strong>Hum:</strong> <span class="value">{{ airhumR24_Q|default:"0" }}</span>%</p>
            <p><strong>Temp:</strong> <span class="value">{{ airtempR24_Q|default:"0" }}</span>°C</p>
        </div>
        
        <div id="sensor-9" class="sensor-value">
            <h2>SHT-8</h2>
            <p><strong>Hum:</strong> <span class="value">{{ airhumR8_Q|default:"0" }}</span>%</p>
            <p><strong>Temp:</strong> <span class="value">{{ airtempR8_Q|default:"0" }}</span>°C</p>
        </div>
        
        <div id="sensor-10" class="sensor-value">
            <h2>ค่า NPK-R16</h2>
            <div class="npk-values">
                <p><strong>N:</strong> <span class="value">{{ nitrogenR16_Q|default:"0" }}</span> mg/kg</p>
                <p><strong>P:</strong> <span class="value">{{ phosphorusR16_Q|default:"0" }}</span> mg/kg</p>
                <p><strong>K:</strong> <span class="value">{{ potassiumR16_Q|default:"0" }}</span> mg/kg</p>
            </div>
        </div>
        
        <div id="sensor-11" class="sensor-value">
            <h2>PPFD-R24</h2>
            <p><span class="value">{{ ppfd4|default:"0" }}</span> µmol/m²</p>
        </div>
        
        <div id="sensor-12" class="sensor-value" data-type="moisture">
            <h2>ความชื้น-R16</h2>
            <p><strong>หัว:</strong> <span class="value">{{ soil9|default:"0" }}</span>%</p>
            <p><strong>ท้าย:</strong> <span class="value">{{ soil10|default:"0" }}</span>%</p>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/smartfarm.js' %}"></script>
{% endblock %}